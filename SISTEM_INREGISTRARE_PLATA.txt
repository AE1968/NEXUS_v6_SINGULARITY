â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                           â•‘
â•‘     SISTEM ÃNREGISTRARE & PLATÄ‚ - DOCUMENTAÈšIE            â•‘
â•‘                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… DATA: 2025-12-21 22:36
ğŸ’³ SISTEM: PayPal Business + Card

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ FLUX ÃNREGISTRARE:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. User click pe "REGISTER" (lÃ¢ngÄƒ LOGIN)
2. CompleteazÄƒ formular:
   - Username
   - Email
   - Password
   - Confirm Password
3. SelecteazÄƒ ABONAMENT:
   â–¡ BASIC - â‚¬9.99/lunÄƒ
   â–¡ PREMIUM - â‚¬19.99/lunÄƒ
   â–¡ ENTERPRISE - â‚¬49.99/lunÄƒ
4. SelecteazÄƒ METODÄ‚ DE PLATÄ‚:
   â–¡ PayPal
   â–¡ Card (Visa/Mastercard)
5. Procesare platÄƒ
6. Confirmare È™i activare cont

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’³ ABONAMENTE DISPONIBILE:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

BASIC - â‚¬9.99/lunÄƒ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… Vizualizare
âœ… Chat text
âŒ Voce
âŒ FuncÈ›ii avansate

PREMIUM - â‚¬19.99/lunÄƒ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… Vizualizare
âœ… Chat text
âœ… Voce (TTS + STT)
âŒ FuncÈ›ii avansate

ENTERPRISE - â‚¬49.99/lunÄƒ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… Vizualizare
âœ… Chat text
âœ… Voce (TTS + STT)
âœ… FuncÈ›ii avansate
âœ… API access
âœ… Prioritate suport

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’° PAYPAL BUSINESS API:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

CONFIGURARE:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Cont PayPal Business
2. Client ID: [din PayPal Developer Dashboard]
3. Secret Key: [din PayPal Developer Dashboard]
4. Webhook URL: https://your-domain.com/api/paypal/webhook

ENDPOINT-URI:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Sandbox (Testing):
https://api-m.sandbox.paypal.com

Production:
https://api-m.paypal.com

PLAN-URI ABONAMENT:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Plan ID Basic:     P-XXXXXXXXXXXXX (creat Ã®n PayPal)
Plan ID Premium:   P-YYYYYYYYYYYYYYY
Plan ID Enterprise: P-ZZZZZZZZZZZZZZZ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”§ IMPLEMENTARE FRONTEND:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

HTML - Modal Ãnregistrare:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

<div id="register-modal">
    <div class="register-box">
        <h2>CREATE ACCOUNT</h2>
        
        <!-- Step 1: User Info -->
        <div id="step-1" class="register-step active">
            <input type="text" id="reg-username" placeholder="Username">
            <input type="email" id="reg-email" placeholder="Email">
            <input type="password" id="reg-password" placeholder="Password">
            <input type="password" id="reg-confirm" placeholder="Confirm Password">
            <button onclick="nextStep()">NEXT</button>
        </div>
        
        <!-- Step 2: Subscription -->
        <div id="step-2" class="register-step">
            <h3>Select Subscription</h3>
            <div class="subscription-cards">
                <div class="sub-card" data-plan="basic">
                    <h4>BASIC</h4>
                    <p class="price">â‚¬9.99/month</p>
                    <ul>
                        <li>âœ… View</li>
                        <li>âœ… Chat</li>
                        <li>âŒ Voice</li>
                    </ul>
                    <button>SELECT</button>
                </div>
                
                <div class="sub-card featured" data-plan="premium">
                    <span class="badge">POPULAR</span>
                    <h4>PREMIUM</h4>
                    <p class="price">â‚¬19.99/month</p>
                    <ul>
                        <li>âœ… View</li>
                        <li>âœ… Chat</li>
                        <li>âœ… Voice</li>
                    </ul>
                    <button>SELECT</button>
                </div>
                
                <div class="sub-card" data-plan="enterprise">
                    <h4>ENTERPRISE</h4>
                    <p class="price">â‚¬49.99/month</p>
                    <ul>
                        <li>âœ… All Features</li>
                        <li>âœ… API Access</li>
                        <li>âœ… Priority Support</li>
                    </ul>
                    <button>SELECT</button>
                </div>
            </div>
        </div>
        
        <!-- Step 3: Payment -->
        <div id="step-3" class="register-step">
            <h3>Payment Method</h3>
            
            <div class="payment-methods">
                <button class="payment-btn" data-method="paypal">
                    <img src="paypal-logo.png">
                    PayPal
                </button>
                
                <button class="payment-btn" data-method="card">
                    <img src="card-logo.png">
                    Credit/Debit Card
                </button>
            </div>
            
            <!-- PayPal Button Container -->
            <div id="paypal-button-container"></div>
            
            <!-- Card Form -->
            <div id="card-form" style="display:none;">
                <input type="text" placeholder="Card Number">
                <input type="text" placeholder="MM/YY">
                <input type="text" placeholder="CVV">
                <button>PAY NOW</button>
            </div>
        </div>
    </div>
</div>

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

JAVASCRIPT - PayPal Integration:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

// Load PayPal SDK
<script src="https://www.paypal.com/sdk/js?client-id=YOUR_CLIENT_ID&vault=true&intent=subscription"></script>

// Initialize PayPal Buttons
function initPayPalButton(planId) {
    paypal.Buttons({
        style: {
            shape: 'rect',
            color: 'gold',
            layout: 'vertical',
            label: 'subscribe'
        },
        
        createSubscription: function(data, actions) {
            return actions.subscription.create({
                'plan_id': planId  // Plan ID from PayPal
            });
        },
        
        onApprove: function(data, actions) {
            console.log('Subscription approved:', data.subscriptionID);
            
            // Save subscription to database
            saveSubscription({
                username: registrationData.username,
                email: registrationData.email,
                subscriptionId: data.subscriptionID,
                planId: planId,
                status: 'active'
            });
            
            // Activate account
            activateAccount();
        },
        
        onError: function(err) {
            console.error('PayPal error:', err);
            showError('Payment failed. Please try again.');
        }
    }).render('#paypal-button-container');
}

// Plan IDs mapping
const PAYPAL_PLANS = {
    'basic': 'P-BASIC-PLAN-ID',
    'premium': 'P-PREMIUM-PLAN-ID',
    'enterprise': 'P-ENTERPRISE-PLAN-ID'
};

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”§ IMPLEMENTARE BACKEND:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Python - Flask Endpoints:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

from flask import Flask, request, jsonify
import paypalrestsdk

# Configure PayPal
paypalrestsdk.configure({
    "mode": "sandbox",  # or "live"
    "client_id": "YOUR_CLIENT_ID",
    "client_secret": "YOUR_SECRET_KEY"
})

@app.route('/api/register', methods=['POST'])
def register_user():
    data = request.json
    
    # Validate data
    username = data.get('username')
    email = data.get('email')
    password = data.get('password')
    plan = data.get('plan')
    
    # Check if user exists
    if username in USERS_DB:
        return jsonify({'error': 'Username already exists'}), 400
    
    # Create user (pending payment)
    USERS_DB[username] = {
        'password': hash_password(password),
        'email': email,
        'role': 'user',
        'subscription': plan,
        'status': 'pending',  # Will be 'active' after payment
        'permissions': get_permissions_for_plan(plan),
        'chatHistory': [],
        'settings': {'language': 'ro'},
        'stats': {'totalLogins': 0, 'totalMessages': 0}
    }
    
    return jsonify({'success': True, 'username': username})

@app.route('/api/paypal/webhook', methods=['POST'])
def paypal_webhook():
    """Handle PayPal webhook events"""
    data = request.json
    event_type = data.get('event_type')
    
    if event_type == 'BILLING.SUBSCRIPTION.ACTIVATED':
        # Subscription activated
        subscription_id = data['resource']['id']
        activate_user_subscription(subscription_id)
        
    elif event_type == 'BILLING.SUBSCRIPTION.CANCELLED':
        # Subscription cancelled
        subscription_id = data['resource']['id']
        deactivate_user_subscription(subscription_id)
    
    return jsonify({'status': 'received'}), 200

def activate_user_subscription(subscription_id):
    """Activate user account after successful payment"""
    # Find user by subscription ID
    for username, user in USERS_DB.items():
        if user.get('subscription_id') == subscription_id:
            user['status'] = 'active'
            save_users_db()
            print(f"âœ… Activated subscription for {username}")
            break

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š BAZÄ‚ DE DATE EXTINSÄ‚:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

USERS_DB = {
    'new_user_123': {
        'password': 'hashed_password',
        'email': 'user@example.com',
        'role': 'user',
        'subscription': 'premium',
        'subscription_id': 'I-PAYPAL-SUBSCRIPTION-ID',
        'status': 'active',  // 'pending', 'active', 'cancelled'
        'payment_method': 'paypal',  // 'paypal' or 'card'
        'billing_cycle': 'monthly',
        'next_billing_date': '2025-01-21',
        'permissions': ['view', 'chat', 'voice'],
        'chatHistory': [],
        'settings': {'language': 'ro', 'voiceEnabled': true},
        'stats': {
            'totalLogins': 0,
            'totalMessages': 0,
            'subscriptionStartDate': '2024-12-21',
            'totalPaid': 19.99
        }
    }
}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”’ SECURITATE:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Parolele sunt hash-uite (bcrypt)
âœ… Email-uri sunt validate
âœ… PayPal webhook este verificat (signature)
âœ… SSL/HTTPS obligatoriu
âœ… Rate limiting pe endpoint-uri
âœ… Token-uri de sesiune expirÄƒ
âœ… PCI DSS compliance pentru carduri

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ NEXT STEPS:

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. CreeazÄƒ cont PayPal Business
2. ObÈ›ine Client ID È™i Secret Key
3. CreeazÄƒ plan-uri de abonament Ã®n PayPal
4. ImplementeazÄƒ modal de Ã®nregistrare
5. IntegreazÄƒ PayPal SDK
6. TesteazÄƒ Ã®n Sandbox
7. Deploy Ã®n producÈ›ie

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… GATA DE IMPLEMENTARE!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ VERSIUNE: v3.0 - REGISTRATION & PAYMENT
ğŸ“… DATA: 2025-12-21 22:36
ğŸ’³ STATUS: DOCUMENTAT

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
